# Webook
### Online Technical Course
* The instructor is a senior backend engineer from China who previously worked at Shopee and eBay.
* [Course link](https://u.geekbang.org/subject/go3rd)
### Project Structure
* cmd: Project entry point
    * wire: Defines dependencies between layers in the project source code
    * wire_gen: Generated by the wire command based on wire.go, completes dependency injection
    * app.go: Defines the services included in the project
    * main.go: Root of the project; starts the corresponding services defined in app.go
    * prometheus.go: Starts the Prometheus server
* config: Project environment configurations
* deployment
    * k8s yaml
* internal
    * domain: Domain models
    * interface
        * event: Event consumer & handler
        * job: Cronjob handler
        * web: Web controller & handler
            * handler: Web handler
                * view: Web handler input/output view model
    * repo: Repository Aggregation
      * cache: Redis
      * dao: DB(MySQL or MongoDB)
    * service: Application services
    * pkg
      * ginx: Enhanced modules for Gin
      * errcode: Define various system error codes
* ioc: Inversion of Control. Initialization of various root modules
* pkg
    * loggerx: Logger module
    * ratelimit: Rate limit utility package
    * errorx: Error code utility package
    * trace_id: Trace ID utility package
* scripts: Scripts for environment management and infrastructure deployment

### Completed Milestones
* Optimized the original course project structure by referencing various Go project architectures.
* Learned error code handling from this column and implemented it in this project as well as in my current company's projects, improving maintainability by avoiding deep error propagation.
* Mastered TDD concepts and techniques from this column and conducted a technical sharing session within the company.
  * Slides: Google Slidesï¼š[TDD Sharing](https://docs.google.com/presentation/d/1_smkX5qbo1wwg1eTw75Vydz-kQfGb5Gd/edit?usp=sharing&ouid=103824221418435923614&rtpof=true&sd=true)
* Introduced Dependency Injection (DI) and Inversion of Control (IoC) to make the project scalable and testable.
* Implemented system error categorization, enabling quick understanding of the severity of system errors and reducing impact on day-to-day development.
* Integrated with a third-party SMS provider while considering failover, rate limiting, and retries. Used the Decorator pattern to flexibly enhance the security and availability of the SMS service, as shown in the /internal/service/sms folder.
* Built a secure authentication system using browser user agent, JWT, cookies, and sessions.
* Implemented the Sliding Window Rate Limit algorithm.
### Future Plan
* Course Modules in Progress
  * Kafka
  * Distributed Task Scheduling
  * Introduction to DDD and Splitting Monolithic Applications into Microservices 
  * Zero-Downtime Data Migration Solutions 
  * Microservices Development: Service Registration and Discovery, Load Balancing, and Service Governance 
  * Design and Implementation of a Payment Service 
  * ElasticSearch and Search Service Implementation 
  * ELK and Canal 
  * Feed Stream Design and Implementation 
  * Design and Implementation of an Instant Messaging (IM) Service
* CI/CD Improvements
  * To move .env, Terraform files, and secrets to a separate repository, using git-crypt for encryption to enhance security.
  * To introduce Git Submodules to integrate source code and env repositories for streamlined deployment.
  * Used Terraform under the deployment directory to:
    * Create CI/CD IAM roles 
    * Deploy services to AWS EKS 
    * Provision necessary AWS resources